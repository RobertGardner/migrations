{"version":3,"sources":["router.js"],"names":[],"mappings":"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","file":"angular2/src/router/router.es6","sourcesContent":["import {Promise, PromiseWrapper, EventEmitter, ObservableWrapper} from 'angular2/src/facade/async';\nimport {Map, MapWrapper, List, ListWrapper} from 'angular2/src/facade/collection';\nimport {isBlank, isPresent, Type} from 'angular2/src/facade/lang';\n\nimport {RouteRegistry} from './route_registry';\nimport {Pipeline} from './pipeline';\nimport {Instruction} from './instruction';\nimport {RouterOutlet} from './router_outlet';\nimport {Location} from './location';\n\n/**\n * # Router\n * The router is responsible for mapping URLs to components.\n *\n * You can see the state of the router by inspecting the read-only field `router.navigating`.\n * This may be useful for showing a spinner, for instance.\n *\n * ## Concepts\n * Routers and component instances have a 1:1 correspondence.\n *\n * The router holds reference to a number of \"outlets.\" An outlet is a placeholder that the\n * router dynamically fills in depending on the current URL.\n *\n * When the router navigates from a URL, it must first recognizes it and serialize it into an `Instruction`.\n * The router uses the `RouteRegistry` to get an `Instruction`.\n *\n * @exportedAs angular2/router\n */\nexport class Router {\n  hostComponent:any;\n  parent:Router;\n  navigating:boolean;\n  lastNavigationAttempt: string;\n  previousUrl:string;\n\n  _currentInstruction:Instruction;\n\n  _pipeline:Pipeline;\n  _registry:RouteRegistry;\n  _outlets:Map<any, RouterOutlet>;\n  _subject:EventEmitter;\n\n\n  constructor(registry:RouteRegistry, pipeline:Pipeline, parent:Router, hostComponent:any) {\n    this.hostComponent = hostComponent;\n    this.navigating = false;\n    this.parent = parent;\n    this.previousUrl = null;\n    this._outlets = MapWrapper.create();\n    this._registry = registry;\n    this._pipeline = pipeline;\n    this._subject = new EventEmitter();\n    this._currentInstruction = null;\n  }\n\n\n  /**\n   * Constructs a child router. You probably don't need to use this unless you're writing a reusable component.\n   */\n  childRouter(hostComponent:any): Router {\n    return new ChildRouter(this, hostComponent);\n  }\n\n\n  /**\n   * Register an object to notify of route changes. You probably don't need to use this unless you're writing a reusable component.\n   */\n  registerOutlet(outlet:RouterOutlet, name: string = 'default'): Promise {\n    MapWrapper.set(this._outlets, name, outlet);\n    if (isPresent(this._currentInstruction)) {\n      var childInstruction = this._currentInstruction.getChild(name);\n      return outlet.activate(childInstruction);\n    }\n    return PromiseWrapper.resolve(true);\n  }\n\n\n  /**\n   * Dynamically update the routing configuration and trigger a navigation.\n   *\n   * # Usage\n   *\n   * ```\n   * router.config({ 'path': '/', 'component': IndexCmp});\n   * ```\n   *\n   * Or:\n   *\n   * ```\n   * router.config([\n   *   { 'path': '/', 'component': IndexComp },\n   *   { 'path': '/user/:id', 'component': UserComp },\n   * ]);\n   * ```\n   *\n   */\n  config(config:any): Promise {\n    if (config instanceof List) {\n      config.forEach((configObject) => {\n        this._registry.config(this.hostComponent, configObject);\n      });\n    } else {\n      this._registry.config(this.hostComponent, config);\n    }\n    return this.renavigate();\n  }\n\n\n  /**\n   * Navigate to a URL. Returns a promise that resolves to the canonical URL for the route.\n   *\n   * If the given URL begins with a `/`, router will navigate absolutely.\n   * If the given URL does not begin with `/`, the router will navigate relative to this component.\n   */\n  navigate(url:string):Promise {\n    if (this.navigating) {\n      return PromiseWrapper.resolve(true);\n    }\n\n    this.lastNavigationAttempt = url;\n\n    var matchedInstruction = this.recognize(url);\n\n    if (isBlank(matchedInstruction)) {\n      return PromiseWrapper.resolve(false);\n    }\n\n    if (isPresent(this._currentInstruction)) {\n      matchedInstruction.reuseComponentsFrom(this._currentInstruction);\n    }\n\n    this._startNavigating();\n\n    var result = this.commit(matchedInstruction)\n        .then((_) => {\n          ObservableWrapper.callNext(this._subject, matchedInstruction.accumulatedUrl);\n          this._finishNavigating();\n        });\n\n    PromiseWrapper.catchError(result, (_) => this._finishNavigating());\n\n    return result;\n  }\n\n  _startNavigating(): void {\n    this.navigating = true;\n  }\n\n  _finishNavigating(): void {\n    this.navigating = false;\n  }\n\n\n  /**\n   * Subscribe to URL updates from the router\n   */\n  subscribe(onNext): void {\n    ObservableWrapper.subscribe(this._subject, onNext);\n  }\n\n\n  /**\n   *\n   */\n  commit(instruction:Instruction):Promise {\n    this._currentInstruction = instruction;\n\n    // collect all outlets that do not have a corresponding child instruction\n    // and remove them from the internal map of child outlets\n    var toDeactivate = ListWrapper.create();\n    MapWrapper.forEach(this._outlets, (outlet, outletName) => {\n      if (!instruction.hasChild(outletName)) {\n        MapWrapper.delete(this._outlets, outletName);\n        ListWrapper.push(toDeactivate, outlet);\n      }\n    });\n\n    return PromiseWrapper.all(ListWrapper.map(toDeactivate, (outlet) => outlet.deactivate()))\n        .then((_) => this.activate(instruction));\n  }\n\n\n  /**\n   * Recursively remove all components contained by this router's outlets.\n   * Calls deactivate hooks on all descendant components\n   */\n  deactivate():Promise {\n    return this._eachOutletAsync((outlet) => outlet.deactivate);\n  }\n\n\n  /**\n   * Recursively activate.\n   * Calls the \"activate\" hook on descendant components.\n   */\n  activate(instruction:Instruction):Promise {\n    return this._eachOutletAsync((outlet, name) => outlet.activate(instruction.getChild(name)));\n  }\n\n\n  _eachOutletAsync(fn):Promise {\n    return mapObjAsync(this._outlets, fn);\n  }\n\n\n  /**\n   * Given a URL, returns an instruction representing the component graph\n   */\n  recognize(url:string): Instruction {\n    return this._registry.recognize(url, this.hostComponent);\n  }\n\n\n  /**\n   * Navigates to either the last URL successfully navigated to, or the last URL requested if the router has yet to successfully navigate.\n   */\n  renavigate():Promise {\n    var destination = isBlank(this.previousUrl) ? this.lastNavigationAttempt : this.previousUrl;\n    if (this.navigating || isBlank(destination)) {\n      return PromiseWrapper.resolve(false);\n    }\n    return this.navigate(destination);\n  }\n\n\n  /**\n   * Generate a URL from a component name and optional map of parameters. The URL is relative to the app's base href.\n   */\n  generate(name:string, params:StringMap<string, string>): string {\n    return this._registry.generate(name, params, this.hostComponent);\n  }\n}\n\nexport class RootRouter extends Router {\n  _location:Location;\n\n  constructor(registry:RouteRegistry, pipeline:Pipeline, location:Location, hostComponent:Type) {\n    super(registry, pipeline, null, hostComponent);\n    this._location = location;\n    this._location.subscribe((change) => this.navigate(change['url']));\n    this._registry.configFromComponent(hostComponent);\n    this.navigate(location.path());\n  }\n\n  commit(instruction):Promise {\n    return super.commit(instruction).then((_) => {\n      this._location.go(instruction.accumulatedUrl);\n    });\n  }\n}\n\nclass ChildRouter extends Router {\n  constructor(parent:Router, hostComponent) {\n    super(parent._registry, parent._pipeline, parent, hostComponent);\n    this.parent = parent;\n  }\n}\n\nfunction mapObjAsync(obj:Map, fn): Promise {\n  return PromiseWrapper.all(mapObj(obj, fn));\n}\n\nfunction mapObj(obj:Map, fn):List {\n  var result = ListWrapper.create();\n  MapWrapper.forEach(obj, (value, key) => ListWrapper.push(result, fn(value, key)));\n  return result;\n}\n"]}