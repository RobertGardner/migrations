{"version":3,"sources":["location_mock.js"],"names":[],"mappings":"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","file":"angular2/src/mock/location_mock.js","sourcesContent":["import {SpyObject, proxy} from 'angular2/test_lib';\n\nimport {IMPLEMENTS} from 'angular2/src/facade/lang';\nimport {EventEmitter, ObservableWrapper} from 'angular2/src/facade/async';\nimport {List, ListWrapper} from 'angular2/src/facade/collection';\nimport {Location} from 'angular2/src/router/location';\n\n\n@proxy\n@IMPLEMENTS(Location)\nexport class SpyLocation extends SpyObject {\n  urlChanges:List<string>;\n  _path:string;\n  _subject:EventEmitter;\n  _baseHref:string;\n\n  constructor() {\n    super();\n    this._path = '/';\n    this.urlChanges = ListWrapper.create();\n    this._subject = new EventEmitter();\n    this._baseHref = '';\n  }\n\n  setInitialPath(url:string) {\n    this._path = url;\n  }\n\n  setBaseHref(url:string) {\n    this._baseHref = url;\n  }\n\n  path():string {\n    return this._path;\n  }\n\n  simulateUrlPop(pathname:string) {\n    ObservableWrapper.callNext(this._subject, {\n      'url': pathname\n    });\n  }\n\n  normalizeAbsolutely(url) {\n    return this._baseHref + url;\n  }\n\n  go(url:string) {\n    url = this.normalizeAbsolutely(url);\n    if (this._path == url) {\n      return;\n    }\n    this._path = url;\n    ListWrapper.push(this.urlChanges, url);\n  }\n\n  forward() {\n    // TODO\n  }\n\n  back() {\n    // TODO\n  }\n\n  subscribe(onNext, onThrow = null, onReturn = null) {\n    ObservableWrapper.subscribe(this._subject, onNext, onThrow, onReturn);\n  }\n\n  noSuchMethod(m){return super.noSuchMethod(m);}\n}\n"]}